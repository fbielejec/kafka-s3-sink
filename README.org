#+TITLE: kafka-demo

* Prerequisites
Install confluent hub client:

#+BEGIN_SRC bash
curl -O http://client.hub.confluent.io/confluent-hub-client-latest.tar.gz
# add to .bashrc:
export PATH="<path-to>/confluent-hub-client-latest/bin:$PATH"
# test
confluent-hub help
#+END_SRC

* Development

Start docker containers:
#+BEGIN_SRC bash
docker-compose -f docker-compose.yml up
#+END_SRC

Create the topic:

#+BEGIN_SRC bash
docker exec broker \
kafka-topics --create \
--zookeeper zookeeper:2181 \
--replication-factor 1 \
--partitions 1 \
--topic events-stream
#+END_SRC

Publish message to topic:

#+BEGIN_SRC bash
docker exec broker \
bash -c "echo -e 'FUBAR' | kafka-console-producer --broker-list localhost:9092 --topic events-stream"
#+END_SRC
