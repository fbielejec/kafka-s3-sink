#+TITLE:    withkafka
#+SUBTITLE: event sourcing research repository

* Prerequisites
** TODO Event Sourcing
** Software
Install confluent hub client:

#+BEGIN_SRC bash
curl -O http://client.hub.confluent.io/confluent-hub-client-latest.tar.gz
# add to .bashrc:
export PATH="<path-to>/confluent-hub-client-latest/bin:$PATH"
# test
confluent-hub help
#+END_SRC

* TODO Architecture
* Development

Start docker containers:

#+BEGIN_SRC bash
docker-compose -f docker-compose.yml up
#+END_SRC

Start watcher

#+BEGIN_SRC bash
cargo watch -s "cargo run"
#+END_SRC

Send some commands:

#+BEGIN_SRC bash
curl -d '{"value": 2}' -H "Content-Type: application/json" -X POST http://localhost:3030/values
#+END_SRC

#+BEGIN_SRC bash
curl -d '{"operation": "ADD", "value": 3}' -H "Content-Type: application/json" -X PUT http://localhost:3030/values/123e4567-e89b-12d3-a456-426614174000
#+END_SRC
